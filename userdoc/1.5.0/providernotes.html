
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Provider-specific Notes &#8212; FDO Toolbox 1.5.0 documentation</title>
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Frequently Asked Questions (FAQ)" href="faq.html" />
    <link rel="prev" title="Other Topics" href="misc.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="faq.html" title="Frequently Asked Questions (FAQ)"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="misc.html" title="Other Topics"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">FDO Toolbox 1.5.0 documentation</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Provider-specific Notes</a><ul>
<li><a class="reference internal" href="#general">General</a></li>
<li><a class="reference internal" href="#shp-provider">SHP Provider</a></li>
<li><a class="reference internal" href="#king-oracle-provider">King Oracle Provider</a></li>
<li><a class="reference internal" href="#sqlite-provider">SQLite Provider</a></li>
<li><a class="reference internal" href="#mysql-provider">MySQL Provider</a></li>
<li><a class="reference internal" href="#postgis-provider">PostGIS Provider</a></li>
<li><a class="reference internal" href="#sql-server-spatial-2008-provider">SQL Server Spatial (2008+) Provider</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="misc.html"
                        title="previous chapter">Other Topics</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="faq.html"
                        title="next chapter">Frequently Asked Questions (FAQ)</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="provider-specific-notes">
<span id="provider-notes"></span><h1>Provider-specific Notes<a class="headerlink" href="#provider-specific-notes" title="Permalink to this headline">¶</a></h1>
<p>Although FDO aims to be unified spatial data access abstraction layer, some implementation details sadly to leak out to FDO client applications like FDO Toolbox.</p>
<p>This section describes quirks when working with various providers.</p>
<div class="section" id="general">
<h2>General<a class="headerlink" href="#general" title="Permalink to this headline">¶</a></h2>
<p>When applying a schema (for providers that support the capability), FDO Toolbox will modify the schema in-place to “promote” any unsupported data type to a data type that is supported by the target provider.</p>
<p>The precedence by which unsupported data types are “promoted” is indicated in the table below:</p>
<table border="1" class="docutils">
<colgroup>
<col width="15%" />
<col width="85%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Data Type</th>
<th class="head">Promoted to (first supported data type in left -&gt; right order)</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>BLOB</td>
<td>N/A (Exception is thrown)</td>
</tr>
<tr class="row-odd"><td>Boolean</td>
<td>Byte -&gt; Int16 -&gt; Int32 -&gt; Int64 -&gt; String -&gt; Exception</td>
</tr>
<tr class="row-even"><td>Byte</td>
<td>Int16 -&gt; Int32 -&gt; Int64 -&gt; String -&gt; Exception</td>
</tr>
<tr class="row-odd"><td>BLOB</td>
<td>N/A (Exception is thrown)</td>
</tr>
<tr class="row-even"><td>DateTime</td>
<td>String -&gt; Exception</td>
</tr>
<tr class="row-odd"><td>Decimal</td>
<td>Double -&gt; String -&gt; Exception</td>
</tr>
<tr class="row-even"><td>Double</td>
<td>String -&gt; Exception</td>
</tr>
<tr class="row-odd"><td>Int16</td>
<td>Int32 -&gt; Int64 -&gt; String -&gt; Exception</td>
</tr>
<tr class="row-even"><td>Int32</td>
<td>Int64 -&gt; String -&gt; Exception</td>
</tr>
<tr class="row-odd"><td>Int64</td>
<td>String -&gt; Exception</td>
</tr>
<tr class="row-even"><td>Single</td>
<td>Double -&gt; String -&gt; Exception</td>
</tr>
<tr class="row-odd"><td>String</td>
<td>N/A (Exception is thrown)</td>
</tr>
</tbody>
</table>
<p>For auto-generated properties, we do things slightly differently. In this case, we will attempt to promote the data type as usual against the provider’s list of supported auto-generated data types. When we cannot promote the data type, we will go on the opposite direction and demote the data type until we find a matching supported auto-generated data type.</p>
<p>The rationale for this is if the source has an int64 auto-generated property, but the target provider only supports int32 auto-generated properties, it should be okay to demote the property down to int32 because unless you need to copy more than 2^32 features, this demotion should not have any effect on the overall bulk copy.</p>
</div>
<div class="section" id="shp-provider">
<span id="shp-constraints"></span><h2>SHP Provider<a class="headerlink" href="#shp-provider" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li>Geometric Properties can only support one particular Geometric Type. You cannot combine multiple Geometric Types. Eg. You can only have Point, Curve or Surface. You cannot have combinations of the 3.
* As a result, this makes the SHP provider unsuitable as a target for some cases of the <code class="docutils literal notranslate"><span class="pre">copy-class</span></code> command as it cannot apply a source class if its geometry supports more than one geometry type. A workaround in such cases is to apply a fixed schema (with single-type geometry properties) to the SHP target connection first before doing the <code class="docutils literal notranslate"><span class="pre">copy-class</span></code>, which will bypass automatic class creation due to them existing as a result of applying the schema beforehand.</li>
<li>SHP supports a limited set of data types. Take note of this when copying data to SHP or applying a schema.</li>
<li>You can only apply a schema in SHP directory connection mode. It does not work when connecting to a single file.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="king-oracle-provider">
<span id="kgora-constraints"></span><h2>King Oracle Provider<a class="headerlink" href="#king-oracle-provider" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li>If applying a new schema, you will have to remove and rebuild the connection to see the changes.</li>
<li><dl class="first docutils">
<dt>Spatial contexts created through FDO only live in-memory within the provider</dt>
<dd><ul class="first last">
<li>The reason for this is that the provider only cares about the name of the spatial context, which is assumed to be in the format of <code class="docutils literal notranslate"><span class="pre">OracleSridXXXX</span></code> where XXXX is the SRID. From this SRID, all other information (WKT, etc) can be inferred from.</li>
<li>In a bulk copy context, you are strongly advised to always override the source name (to use the <code class="docutils literal notranslate"><span class="pre">OracleSridXXXX</span></code> notation) or nominate an existing target spatial context for any feature class to be created</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Applying schemas will <strong>only create feature classes</strong>. It will not update or delete classes.</dt>
<dd><ul class="first last">
<li>For this reason, you should prepare all necessary tables up-front through your normal preferred Oracle DB admin tools and set up your bulk copy to copy into these existing tables</li>
<li>Also for this reason, using the <code class="docutils literal notranslate"><span class="pre">copy-class</span></code> command to bulk copy data into Oracle is also discouraged, you should just use FdoCmd to executed a bulk copy definition prepared earlier</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Bulk copying data is slow. Although the provider supports batch inserting (which would theoretically improve throughput), the provider’s implementation has bugs that prevent us from reliably using it.</dt>
<dd><ul class="first last">
<li>As a result, we recommend only using FDO Toolbox for bulk copying into Oracle as a last resort when all other options are not possible.</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="sqlite-provider">
<span id="slt-constraints"></span><h2>SQLite Provider<a class="headerlink" href="#sqlite-provider" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li>The schema name is always locked to <strong>Default</strong>. Take note of this when setting up bulk copies to SQLite.</li>
<li>Due to buggy refcounting, or the usage of an API in the provider that has buggy refcounting, this provider exhibits instability when used in FdoCmd. We recommend only interacting with such data stores through the FDO Toolbox windows application.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="mysql-provider">
<span id="mysql-constraints"></span><h2>MySQL Provider<a class="headerlink" href="#mysql-provider" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li>Data stores created through this provider will always have FDO meta-schema tables defined (these are tables starting with <code class="docutils literal notranslate"><span class="pre">f_</span></code>). In other words, data stores created by this provider are fully-managed by FDO and difficult to interop with other tools (that do not know what these FDO meta-schema tables are)</li>
<li>MySQL provider will report a reduced set of spatial capabilities when connecting to a server older than 5.6</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="postgis-provider">
<span id="postgis-constraints"></span><h2>PostGIS Provider<a class="headerlink" href="#postgis-provider" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li>If applying a new schema, you will have to remove and rebuild the connection to see the changes.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="sql-server-spatial-2008-provider">
<span id="sqlserver-constraints"></span><h2>SQL Server Spatial (2008+) Provider<a class="headerlink" href="#sql-server-spatial-2008-provider" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul>
<li><p class="first">This provider is extremely sensitive to geometry validity and will reject any input of invalid geometries. This mostly occurs when copying polygon geometries (with invalid ring orientation) to a feature class that uses a spatial context with a geodetic (lat/long) coordinate system. For Bulk Copy to SQL Server, it will attempt auto-correction of invalid polygon ring orientations.</p>
</li>
<li><p class="first">Bulk copying to this provider is quite slow. Use alternate means of copying data if possible.</p>
</li>
<li><dl class="first docutils">
<dt>You cannot create spatial contexts whose WKT does not resolve to a matching entry in the <code class="docutils literal notranslate"><span class="pre">sys.spatial_reference_systems</span></code> system table</dt>
<dd><ul class="first last">
<li><p class="first">You must specify either:</p>
<blockquote>
<div><ol class="arabic simple">
<li>A CS name that is present in <code class="docutils literal notranslate"><span class="pre">com/ExtendedCoordSys.txt</span></code> or a name such that the following SQL query will produce a result:</li>
</ol>
<p><code class="docutils literal notranslate"><span class="pre">SELECT</span> <span class="pre">*</span> <span class="pre">FROM</span> <span class="pre">sys.spatial_reference_systems</span> <span class="pre">WHERE</span> <span class="pre">SUBSTRING(</span> <span class="pre">well_known_text,</span> <span class="pre">9,</span> <span class="pre">CHARINDEX('&quot;',well_known_text,9)</span> <span class="pre">-</span> <span class="pre">9</span> <span class="pre">)</span> <span class="pre">=</span> <span class="pre">&lt;name&gt;</span></code></p>
<ol class="arabic simple" start="2">
<li>Or, a WKT that is present in <code class="docutils literal notranslate"><span class="pre">com/ExtendedCoordSys.txt</span></code> or a WKT such that the following SQL query will produce a result:</li>
</ol>
<p><code class="docutils literal notranslate"><span class="pre">SELECT</span> <span class="pre">*</span> <span class="pre">FROM</span> <span class="pre">sys.spatial_reference_systems</span> <span class="pre">WHERE</span> <span class="pre">well_known_text</span> <span class="pre">=</span> <span class="pre">&lt;WKT&gt;</span></code></p>
</div></blockquote>
</li>
<li><p class="first">In the context of bulk copying, you can use the SC override feature to “fix” such bad source spatial contexts from being copied.</p>
</li>
<li><p class="first">When using the <code class="docutils literal notranslate"><span class="pre">copy-class</span></code> command, you are strongly recommended to use the <code class="docutils literal notranslate"><span class="pre">--override-sc-from-resolved-wkt</span></code> option which will instruct the command to take the WKT of the source spatial context, resolve it against the coordinate system catalog and apply the override settings from that resolved coordinate system. As the SQL Server provider knows most of the coordinate system catalog (via the bundled <code class="docutils literal notranslate"><span class="pre">ExtendedCoordSys.txt</span></code> file), this is a near-bulletproof method of transferring spatial contexts across to SQL Server from any source.</p>
</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="faq.html" title="Frequently Asked Questions (FAQ)"
             >next</a> |</li>
        <li class="right" >
          <a href="misc.html" title="Other Topics"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">FDO Toolbox 1.5.0 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2008-2020, Jackie Ng.
      Last updated on Jul 03, 2020.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.5.
    </div>
  </body>
</html>